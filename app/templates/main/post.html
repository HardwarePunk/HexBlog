{% extends 'base.html' %}

{% block title %}{{ post.title }} - Retro Blog✨{% endblock %}

{% block content %}
<div class="post-container">
    <div class="post-header">
        <h1>{{ post.title }}</h1>
    </div>

    <div class="post-metadata">
        <span class="post-date">🗓️ Posted on {{ post.created_at|format_date }}</span>
        <span class="post-author">👤 By {{ post.author.username }}</span>
        {% if post.tags %}
            <div class="post-tags">
                {% for tag in post.tags %}
                    <span class="tag">🏷️ {{ tag }}</span>
                {% endfor %}
            </div>
        {% endif %}
    </div>

    <div class="post-content">
        {{ post.content|safe }}
    </div>

    <div class="post-footer">
        <div class="post-actions">
            {% if current_user.is_authenticated and (current_user.is_admin or current_user.id == post.author_id) %}
                <a href="{{ url_for('admin_views.edit_post', id=post.id) }}" class="btn btn-edit">
                    ✏️ Edit Post
                </a>
            {% endif %}
            <a href="{{ url_for('main.index') }}" class="btn btn-back">
                🏠 Back to Home
            </a>
        </div>

        <div class="post-navigation">
            {% if prev_post %}
                <a href="{{ url_for('main.post', slug=prev_post.slug) }}" class="btn btn-nav">
                    ⬅️ Previous Post
                </a>
            {% endif %}
            
            {% if next_post %}
                <a href="{{ url_for('main.post', slug=next_post.slug) }}" class="btn btn-nav">
                    Next Post ➡️
                </a>
            {% endif %}
        </div>
    </div>

    <div class="retro-decoration">
        <marquee scrollamount="2" direction="right">✨ Thanks for reading! ✨</marquee>
    </div>
</div>
{% endblock %}
